# Nanaka Farm GeoJSONãƒ‡ãƒ¼ã‚¿

Neo4jã‹ã‚‰ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚ŒãŸåœ°ç†ç©ºé–“ãƒ‡ãƒ¼ã‚¿

## ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§

### nanaka_farm_fields.geojson
**è¾²åœ’ãƒã‚¤ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿**

- **ã‚¿ã‚¤ãƒ—**: FeatureCollection (Point)
- **åº§æ¨™ç³»**: WGS84 (EPSG:4326)
- **ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼æ•°**: è¾²åœ’æ•°ã«å¿œã˜ã‚‹

**ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£:**
- `name`: è¾²åœ’å
- `area`: é¢ç©ï¼ˆå¹³æ–¹ãƒ¡ãƒ¼ãƒˆãƒ«ï¼‰
- `observation_count`: è¦³æ¸¬ãƒ‡ãƒ¼ã‚¿æ•°
- `avg_ndvi`: å¹³å‡NDVI
- `avg_temperature`: å¹³å‡æ¸©åº¦ï¼ˆâ„ƒï¼‰
- `first_observation`: æœ€åˆã®è¦³æ¸¬æ—¥
- `last_observation`: æœ€æ–°ã®è¦³æ¸¬æ—¥
- `export_time`: ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ—¥æ™‚

### satellite_observations.geojson
**è¡›æ˜Ÿè¦³æ¸¬ãƒã‚¤ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿**

- **ã‚¿ã‚¤ãƒ—**: FeatureCollection (Point)
- **åº§æ¨™ç³»**: WGS84 (EPSG:4326)
- **ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼æ•°**: è¦³æ¸¬ãƒ‡ãƒ¼ã‚¿æ•°ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: æœ€å¤§100ä»¶ï¼‰

**ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£:**
- `farm_name`: è¾²åœ’å
- `observation_date`: è¦³æ¸¬æ—¥
- `ndvi`: NDVIå€¤ï¼ˆ0-1ï¼‰
- `temperature`: æ¸©åº¦ï¼ˆâ„ƒï¼‰
- `humidity`: æ¹¿åº¦ï¼ˆ%ï¼‰
- `ndvi_status`: æ¤ç”ŸçŠ¶æ…‹
  - `healthy`: å¥åº·ï¼ˆNDVI > 0.7ï¼‰
  - `moderate`: æ™®é€šï¼ˆNDVI 0.5-0.7ï¼‰
  - `poor`: æ³¨æ„ï¼ˆNDVI 0.3-0.5ï¼‰
  - `very_poor`: è­¦å‘Šï¼ˆNDVI < 0.3ï¼‰

---

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### 1. ãƒ‡ãƒ¼ã‚¿ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

```bash
# ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
python scripts/export_geojson.py

# è¾²åœ’ãƒ‡ãƒ¼ã‚¿ã®ã¿
python scripts/export_geojson.py --farms-only

# è¦³æ¸¬ãƒ‡ãƒ¼ã‚¿ã‚’50ä»¶ã«åˆ¶é™
python scripts/export_geojson.py --observations-limit 50
```

### 2. QGISã§é–‹ã

#### æ–¹æ³•1: ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—
1. QGISã‚’èµ·å‹•
2. GeoJSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’QGISã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã«ãƒ‰ãƒ©ãƒƒã‚°

#### æ–¹æ³•2: ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰
1. `ãƒ¬ã‚¤ãƒ¤` â†’ `ãƒ¬ã‚¤ãƒ¤ã®è¿½åŠ ` â†’ `ãƒ™ã‚¯ã‚¿ãƒ¬ã‚¤ãƒ¤ã®è¿½åŠ `
2. ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ
3. `è¿½åŠ `

### 3. è¡¨ç¤ºç¢ºèª

ãƒ¬ã‚¤ãƒ¤ãŒè¿½åŠ ã•ã‚ŒãŸã‚‰:
1. ãƒ¬ã‚¤ãƒ¤ã‚’å³ã‚¯ãƒªãƒƒã‚¯
2. `ãƒ¬ã‚¤ãƒ¤ã®ç¯„å›²ã«ã‚ºãƒ¼ãƒ `
3. Nanaka Farmå‘¨è¾ºãŒè¡¨ç¤ºã•ã‚Œã‚‹

---

## ğŸ¨ ã‚¹ã‚¿ã‚¤ãƒ«è¨­å®šä¾‹

### è¾²åœ’ãƒã‚¤ãƒ³ãƒˆ

**NDVIå€¤ã«ã‚ˆã‚‹è‰²åˆ†ã‘:**
```
NDVI > 0.7  â†’ æ¿ƒç·‘ (#00AA00) "å¥åº·"
NDVI 0.5-0.7 â†’ é»„ç·‘ (#AAAA00) "æ™®é€š"
NDVI 0.3-0.5 â†’ ã‚ªãƒ¬ãƒ³ã‚¸ (#FF8800) "æ³¨æ„"
NDVI < 0.3  â†’ èµ¤ (#FF0000) "è­¦å‘Š"
```

**è¨­å®šæ‰‹é †:**
1. ãƒ¬ã‚¤ãƒ¤ã‚’å³ã‚¯ãƒªãƒƒã‚¯ â†’ `ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£`
2. `ã‚·ãƒ³ãƒœãƒ­ã‚¸ãƒ¼` â†’ `æ®µéšã«åˆ†ã‘ã‚‰ã‚ŒãŸ`
3. `å€¤`: `avg_ndvi`
4. åˆ†é¡æ•°: 4
5. ã‚«ãƒ©ãƒ¼ãƒ©ãƒ³ãƒ—: RdYlGn (èµ¤-é»„-ç·‘)

### è¦³æ¸¬ãƒã‚¤ãƒ³ãƒˆ

**æ—¥ä»˜ã«ã‚ˆã‚‹è‰²åˆ†ã‘:**
1. `ã‚·ãƒ³ãƒœãƒ­ã‚¸ãƒ¼` â†’ `æ®µéšã«åˆ†ã‘ã‚‰ã‚ŒãŸ`
2. `å€¤`: `observation_date`
3. ã‚«ãƒ©ãƒ¼ãƒ©ãƒ³ãƒ—: Spectral

**NDVIçŠ¶æ…‹ã«ã‚ˆã‚‹åˆ†é¡:**
1. `ã‚·ãƒ³ãƒœãƒ­ã‚¸ãƒ¼` â†’ `ã‚«ãƒ†ã‚´ãƒªå€¤ã«ã‚ˆã‚‹å®šç¾©`
2. `å€¤`: `ndvi_status`
3. åˆ†é¡å®Ÿè¡Œ

---

## ğŸ“Š ã‚µãƒ³ãƒ—ãƒ«åº§æ¨™

### Nanaka Farm
- **ç·¯åº¦**: 32.8032Â°N
- **çµŒåº¦**: 130.7075Â°E
- **ã‚¨ãƒªã‚¢**: ç†Šæœ¬çœŒ

### å‘¨è¾ºåœ°åŸŸ
- ç¯„å›²: ç´„ Â±0.01åº¦ (ç´„1kmå››æ–¹)
- åŒ—: 32.8132
- å—: 32.7932
- æ±: 130.7175
- è¥¿: 130.6975

---

## ğŸ”§ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã‚ªãƒ—ã‚·ãƒ§ãƒ³

```bash
# ãƒ˜ãƒ«ãƒ—è¡¨ç¤º
python scripts/export_geojson.py --help

# å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå¤‰æ›´
python scripts/export_geojson.py --output-dir /path/to/output

# è¦³æ¸¬ãƒ‡ãƒ¼ã‚¿æ•°æŒ‡å®š
python scripts/export_geojson.py --observations-limit 200
```

### GeoJSONç·¨é›†

ãƒ•ã‚¡ã‚¤ãƒ«ã¯æ¨™æº–çš„ãªGeoJSONå½¢å¼ãªã®ã§:
- ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã§ç·¨é›†å¯èƒ½
- ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§èª­ã¿è¾¼ã¿ãƒ»åŠ å·¥å¯èƒ½
- ä»–ã®GISã‚½ãƒ•ãƒˆã§ã‚‚åˆ©ç”¨å¯èƒ½

---

## ğŸŒ ä»–ã®ãƒ„ãƒ¼ãƒ«ã§ã®åˆ©ç”¨

### Leaflet (Webåœ°å›³)

```javascript
// GeoJSONã‚’Leafletã§è¡¨ç¤º
fetch('exports/nanaka_farm_fields.geojson')
  .then(response => response.json())
  .then(data => {
    L.geoJSON(data, {
      onEachFeature: function(feature, layer) {
        layer.bindPopup(feature.properties.name);
      }
    }).addTo(map);
  });
```

### Python (GeoPandas)

```python
import geopandas as gpd

# GeoJSONã‚’èª­ã¿è¾¼ã¿
farms = gpd.read_file('exports/nanaka_farm_fields.geojson')
obs = gpd.read_file('exports/satellite_observations.geojson')

# çµ±è¨ˆè¨ˆç®—
print(farms['avg_ndvi'].describe())

# åœ°å›³ãƒ—ãƒ­ãƒƒãƒˆ
farms.plot(column='avg_ndvi', cmap='RdYlGn', legend=True)
```

### R (sf)

```r
library(sf)

# GeoJSONã‚’èª­ã¿è¾¼ã¿
farms <- st_read("exports/nanaka_farm_fields.geojson")

# ãƒ—ãƒ­ãƒƒãƒˆ
plot(farms["avg_ndvi"], main="Average NDVI")
```

---

## ğŸ“š å‚è€ƒè³‡æ–™

- [GeoJSONä»•æ§˜](https://geojson.org/)
- [QGISå¯è¦–åŒ–ã‚¬ã‚¤ãƒ‰](../docs/QGIS_VISUALIZATION.md)
- [Neo4jãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«](../README.md#ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«)

---

## âš ï¸ æ³¨æ„äº‹é …

1. **åº§æ¨™ç³»**: WGS84 (EPSG:4326) ã‚’ä½¿ç”¨
2. **ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º**: å¤§é‡ã®ãƒ‡ãƒ¼ã‚¿ã¯ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒå¤§ãããªã‚‹
3. **æ›´æ–°é »åº¦**: å®šæœŸçš„ã«å†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¦æœ€æ–°ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
4. **Neo4jæ¥ç¶š**: ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ™‚ã«Neo4jãŒèµ·å‹•ã—ã¦ã„ã‚‹å¿…è¦ã‚ã‚Š

---

## æ›´æ–°å±¥æ­´

- 2026-01-09: åˆç‰ˆä½œæˆ
  - è¾²åœ’ãƒ‡ãƒ¼ã‚¿GeoJSON
  - è¦³æ¸¬ãƒ‡ãƒ¼ã‚¿GeoJSON
  - ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
